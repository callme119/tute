<section class="content-header">
    <h1>
        角色管理
        <small>添加角色</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="{:U('Admin/Index/index')}"><i class="fa fa-dashboard"></i> 首页</a></li>
        <li><a href="{:U('index')}">角色管理</a></li>
        <li class="active">添加角色</li>
    </ol>
</section>
<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <div class="box">
                <div class="box-header">
                    <i class="fa fa-inbox"></i>
                    <h3 class="box-title">添加角色</h3>
                </div><!-- /.box-header -->
                <div class="box-body table-responsive">
                    <div class="panel-body">
                        <button type="button" class="btn btn-info" onclick="javascript:history.back(-1);">返回</button>
                    </div>
                    <form class="form-horizontal" action="{:U('addOk')}" method="post">
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">角色名</label>
                            <div class="col-sm-4">
                                <input name="name" class="form-control" id="inputEmail3" placeholder="{$roleInfo.name}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">角色描述</label>
                            <div class="col-sm-4">
                                <textarea name = "remarks" class="form-control" rows="3">{$roleInfo.remarks}</textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">权限</label>
                            <div class="col-sm-6 role">
                                <foreach  name="permissionList" item = "value">
                                     <div class="row title ">
                                        <input name="{$value.id}"type="checkbox" />
                                        <lable>{$value.title}</lable>
                                    </div>
                                    <if condition="$value._son != null">  
                                        <foreach name="value._son" item="son">
                                            <div class="row subtitle">
                                                <input name="{$son.id}" type="checkbox" />
                                                <lable>{$son.title}</lable>
                                            </div>
                                                <if condition="$son._son != null">
                                                <div class="row subtitle">
                                                        <foreach name="son._son" item="grandson">
                                                            <div class=col-sm-4>
                                                            <input name="{$grandson.id}" type="checkbox" />
                                                            <lable>{$grandson.title}</lable>
                                                            </div>
                                                        </foreach>
                                                </div>
                                            </if>
                                        </foreach>
                                    </if>
                                </foreach>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="submit" class="btn btn-sm btn-success"><i class="glyphicon glyphicon-saved"></i>确认</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>    
</section>
<style>
    .role{
        border: 1px #cccccc solid;
    }
    .title{
        background-color: #00C9AC;
        margin-left: 10px;
        margin-right: 10px;
        margin-top: 5px;
        margin-bottom: 5px;
    }
    .subtitle{
        margin-left: 10px;
        margin-top: 5px;
        margin-bottom: 5px;
    }
</style>